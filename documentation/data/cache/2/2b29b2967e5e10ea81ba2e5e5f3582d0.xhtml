
<h1 class="sectionedit1 heading-combo" id="debugging">Debugging</h1>
<div class="level1">

<p>
A topic that is probably not covered enough. If you do not have debugging working in your IDE environment then you are sadly wasting a lot of your own time.  A debugger allows you to step through problem code and figure out what is going wrong without adding all those die(), var_dump() and print_r() statements.
</p>

<p>
Tina4 helps a little with the initial debugging by showing decent error messages and identifying the code where your errors occurred but the most important thing is to install x-debug for PHP and get yourself up and running.
</p>

<p>
Installing a debugger can be a bit painful at first however once you have one working the rewards are self evident.
</p>

<p>
Get started by <a class="link-external link-combo" href="https://xdebug.org/docs/install" rel="nofollow ugc">installing Xdebug</a>, here are some pointers below for the various <abbr title="Operating System">OS</abbr>:
</p>

<p>
<strong>Windows</strong> - install <a class="link-external link-combo" href="https://xdebug.org/download" rel="nofollow ugc">XDebug</a>
<br/>

<strong>Linux &amp; Mac</strong> - try a <a class="link-external link-combo" href="https://pecl.php.net/" rel="nofollow ugc">PECL</a> install first otherwise you are going to be compiling from source code
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Debugging&quot;,&quot;hid&quot;:&quot;debugging&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-993&quot;} -->
<h2 class="sectionedit2 heading-combo" id="phpini">PHP.ini</h2>
<div class="level2">

<p>
Please be aware that the latest versions of x-debug has changed somewhat and the configurations that used to work are no longer valid.  Below is a configuration that works.
</p>
<pre class="code-container-combo code-container-ini-combo" data-download-link="true" data-src="file.ini">
<code class="language-ini code-combo code-ini-combo">   [Xdebug] 
   zend_extension=xdebug
   xdebug.mode = debug
   xdebug.start_with_request=yes</code>
</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;PHP.ini&quot;,&quot;hid&quot;:&quot;phpini&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;994-1306&quot;} -->
<h2 class="sectionedit3 heading-combo" id="running_tina4_in_debug_mode">Running Tina4 in debug mode</h2>
<div class="level2">

<p>
If you are using <a class="link-external link-combo" href="https://www.jetbrains.com/?from=Tina4" rel="nofollow ugc">PHP Storm</a> or <a class="link-external link-combo" href="https://www.jetbrains.com/idea/" rel="nofollow ugc">IntelliJ</a> then the following will get you started with little configuration.
</p>
<pre class="code-container-combo" data-download-link="true" data-src="file.txt">
<code class="language-txt code-combo">   XDEBUG_CONFIG=&quot;client_host=127.0.0.1&quot; composer start 8080</code>
</pre>

<p>
In your IDE look for the icon that looks like a telephone with a bug below it
</p>

<p>
<img class="img-fluid lazy-raster-combo lazy-combo mx-auto d-block raster-combo" data-src="http://localhost:8800/lib/exe/fetch.php?media=debug.telephone.png" data-placeholder-background="#cbf1ea" height="37" width="144" style="max-width:144px;width:100%"/>
</p>

<p>
Clicking it on will allow the IDE to start listening for a debugging request based on the command you ran before. Below is how it looks when the IDE is listening for a debugging connection.
</p>

<p>
<img class="img-fluid lazy-raster-combo lazy-combo mx-auto d-block raster-combo" data-src="http://localhost:8800/lib/exe/fetch.php?media=debug.listening.png" data-placeholder-background="#cbf1ea" height="43" width="155" style="max-width:155px;width:100%"/>
</p>

<p>
Once you hit up your web page on <a class="link-external link-combo" href="http://localhost:8080" rel="nofollow ugc">http://localhost:8080</a>, the debugger should activate and you need to accept the connection.
</p>

<p>
<img class="img-fluid lazy-raster-combo lazy-combo mx-auto d-block raster-combo" data-sizes="(max-width: 375px) and (min-resolution:288dpi) 118px, (max-width: 375px) and (min-resolution:192dpi) 177px, (max-width: 375px) and (min-resolution:96dpi) 355px, 400px" data-srcset="http://localhost:8800/lib/exe/fetch.php?w=355&amp;h=367&amp;tok=10c36c&amp;media=debug.enable.png 355w, http://localhost:8800/lib/exe/fetch.php?w=400&amp;h=414&amp;tok=c4e79b&amp;media=debug.enable.png 400w" data-placeholder-background="#cbf1ea" src="http://localhost:8800/lib/exe/fetch.php?media=debug.enable.png" srcset="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA0MDAgNDE0Jz48L3N2Zz4=" height="414" width="400" style="max-width:400px;width:100%"/>
</p>

<p>
Add break points in your code by clicking on the left margin where you want the debugger to stop and you should get something like this
</p>

<p>
<img class="img-fluid lazy-raster-combo lazy-combo mx-auto d-block raster-combo" data-sizes="(max-width: 375px) and (min-resolution:288dpi) 118px, (max-width: 375px) and (min-resolution:192dpi) 177px, (max-width: 375px) and (min-resolution:96dpi) 355px, 400px" data-srcset="http://localhost:8800/lib/exe/fetch.php?w=355&amp;h=145&amp;tok=1bfaa0&amp;media=debug.running.png 355w, http://localhost:8800/lib/exe/fetch.php?w=400&amp;h=163&amp;tok=bba588&amp;media=debug.running.png 400w" data-placeholder-background="#cbf1ea" src="http://localhost:8800/lib/exe/fetch.php?media=debug.running.png" srcset="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA0MDAgMTYzJz48L3N2Zz4=" height="163" width="400" style="max-width:400px;width:100%"/>
</p>
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;secid&quot;:4,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_center wrap_round wrap_tip plugin_wrap"><ul>
<li class="level1"><div class="li"> Don&#039;t forget to turn off your debugger telephone when you&#039;re done</div>
</li>
<li class="level2"><div class="li"> Learn shortcut keys like F8 - step and F7 - step into as well as F9 to run through debugging quickly</div>
</li>
</ul>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;secid&quot;:5,&quot;range&quot;:&quot;0-&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Running Tina4 in debug mode&quot;,&quot;hid&quot;:&quot;running_tina4_in_debug_mode&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;1307-&quot;} -->
<script src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" integrity="sha256-LGOWMG4g6/zc0chji4hZP1d8RxR2bPvXMzl/7oPZqjs=" crossorigin="anonymous" class="snippet-anchor-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//components/prism-core.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/toolbar/prism-toolbar.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/normalize-whitespace/prism-normalize-whitespace.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/show-language/prism-show-language.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/command-line/prism-command-line.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/line-numbers/prism-line-numbers.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/download-button/prism-download-button.min.js" integrity="sha512-rGJwSZEEYPBQjqYxrdg6Ug/6i763XQogKx+N/GF1rCGvfmhIlIUFxCjc4FmEdCu5dvovqxHsoe3IPMKP+KlgNQ==" crossorigin="anonymous" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/autoloader/prism-autoloader.min.js" class="snippet-prism-autoloader-combo"></script>

<script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous" class="snippet-lozad-combo"></script>

<script class="snippet-popover-combo">window.addEventListener('load', function () {
    let namespace = "-bs"
    let version = 5;
    if (typeof jQuery != 'undefined' && typeof jQuery.fn.tooltip.constructor.VERSION !== 'undefined') {
        version = parseInt(jQuery.fn.tooltip.constructor.VERSION.substr(0, 1), 10);
        if (version < 5) {
            namespace = "";
        }
        jQuery(`[data${namespace}-toggle="popover"]`).popover();
    } else if (typeof bootstrap.Popover.VERSION !== 'undefined') {
        version = parseInt(bootstrap.Popover.VERSION.substr(0, 1), 10);
        if (version < 5) {
            namespace = "";
        }
        document.querySelectorAll(`[data${namespace}-toggle="popover"]`)
            .forEach(el => {
                new bootstrap.Popover(el);
                // to not navigate on a anchor
                el.onclick = (event => event.preventDefault());
            });
    }
});
</script>

<script class="snippet-anchor-combo">document.addEventListener('DOMContentLoaded', (event) => {
    anchors.options = {
        placement: 'right',
        icon: '#',
        class: 'anchor-combo'
    };
    anchors.add("main > h2").add("main > h3").add("main > h4").add("main > h5").add("main > h6");
});
</script>

<script class="snippet-prism-combo">document.addEventListener('DOMContentLoaded', (event) => {

    if (typeof self === 'undefined' || !self.Prism || !self.document) {
        return;
    }

    // Loading the css from https://cdnjs.com/libraries/prism
    const head = document.querySelector('head');
    const baseCdn = "https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/";
    const stylesheets = [
        ["themes/prism-tomorrow.min.css", "sha512-vswe+cgvic/XBoF1OcM/TeJ2FW0OofqAVdCZiEYkd6dwGXthvkSFWOoGGJgS2CW70VK5dQM5Oh+7ne47s74VTg=="],
        ["plugins/toolbar/prism-toolbar.min.css","sha512-DSAA0ziYwggOJ3QyWFZhIaU8bSwQLyfnyIrmShRLBdJMtiYKT7Ju35ujBCZ6ApK3HURt34p2xNo+KX9ebQNEPQ=="],
        /*https://prismjs.com/plugins/command-line/*/
        ["plugins/command-line/prism-command-line.min.css","sha512-4Y1uID1tEWeqDdbb7452znwjRVwseCy9kK9BNA7Sv4PlMroQzYRznkoWTfRURSADM/SbfZSbv/iW5sNpzSbsYg=="],
        /*https://prismjs.com/plugins/line-numbers/*/
        ["plugins/line-numbers/prism-line-numbers.min.css","sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ=="]
    ];

    stylesheets.forEach(stylesheet => {
            let link = document.createElement('link');
            link.rel="stylesheet"
            link.href=baseCdn+"/"+stylesheet[0];
            link.integrity=stylesheet[1];
            link.crossOrigin="anonymous";
            head.append(link);
        }
    )


    Prism.plugins.NormalizeWhitespace.setDefaults({
        'remove-trailing': true,
        'remove-indent': true,
        'left-trim': true,
        'right-trim': true,
    });

    if (!Prism.plugins.toolbar) {
        console.warn('Copy to Clipboard plugin loaded before Toolbar plugin.');

        return;
    }

    let ClipboardJS = window.ClipboardJS || undefined;

    if (!ClipboardJS && typeof require === 'function') {
        ClipboardJS = require('clipboard');
    }

    const callbacks = [];

    if (!ClipboardJS) {
        const script = document.createElement('script');
        const head = document.querySelector('head');

        script.onload = function() {
            ClipboardJS = window.ClipboardJS;

            if (ClipboardJS) {
                while (callbacks.length) {
                    callbacks.pop()();
                }
            }
        };

        script.src = 'https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js';
        head.appendChild(script);
    }

    Prism.plugins.toolbar.registerButton('copy-to-clipboard', function (env) {
        var linkCopy = document.createElement('button');
        linkCopy.textContent = 'Copy';
        linkCopy.setAttribute('type', 'button');

        var element = env.element;

        if (!ClipboardJS) {
            callbacks.push(registerClipboard);
        } else {
            registerClipboard();
        }

        return linkCopy;

        function registerClipboard() {
            var clip = new ClipboardJS(linkCopy, {
                'text': function () {
                    return element.textContent;
                }
            });

            clip.on('success', function() {
                linkCopy.textContent = 'Copied!';

                resetText();
            });
            clip.on('error', function () {
                linkCopy.textContent = 'Press Ctrl+C to copy';

                resetText();
            });
        }

        function resetText() {
            setTimeout(function () {
                linkCopy.textContent = 'Copy';
            }, 5000);
        }
    });

});</script>

<script class="snippet-lozad-print-combo">window.onbeforeprint = function() {

    const observer = lozad();
    observer.observe();

    document.querySelectorAll('.lazy-combo').forEach(element => {
            observer.triggerLoad(element);
        }
    )

}
</script>

<script class="snippet-lozad-raster-combo">window.addEventListener("load", function (event) {
    // lazy loads elements with the below selector
    const observer = lozad('.lazy-raster-combo', {
        load: function (el) {
            el.classList.add('lazy-fade-combo')
            if (el.hasAttribute("data-srcset")) {
                if (el.hasAttribute("data-sizes")) {
                    el.sizes = el.dataset.sizes;
                }
                el.srcset = el.dataset.srcset;
            }
            if (el.hasAttribute("data-src")) {
                el.src = el.dataset.src;
            }
        },
        loaded: function (el) {
            // Custom implementation on a loaded element
            el.classList.add('loaded-combo');
            // Masonry (Not really needed because the placeholder has the good aspect ratio)
            // but who knows
            if(window.Masonry) {
                document.querySelectorAll('.masonry').forEach(element=>{
                    let masonry = Masonry.data(element);
                    masonry.layout();
                })
            }
        }
    });
    observer.observe();
});

</script>

<style class="snippet-historical-breadcrumb-combo">.historical-breadcrumb li {
    margin-bottom: 0.5rem;
}
.historical-breadcrumb a {
    text-decoration: none;
}
.historical-breadcrumb-home {
    max-width: fit-content;
    display: block;
    margin-right: auto;
    margin-left: auto;
    margin-bottom: 1rem;
    padding:0.5rem;
    text-align: center;
    border-radius: calc(.3rem - 1px);
    background-color: #f0f0f0;
}
.historical-breadcrumb-home::before {
    content:'Actual: '
}
</style>

<style class="snippet-message-combo">/*Message*/
.combo-message > .signature {
    font-size: 80%;
    font-style: italic;
    text-align: right;
}
</style>

<style class="snippet-lqpp-combo">.low-quality-page-combo {
    text-decoration: none;
}
</style>

<style class="snippet-link-combo">
a.link-external:not(.btn) {
    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAABdklEQVR4AWMgAVRo1zY3rGk41rC+rqvCBCJWBpPM4WoomLHtdtuv/t9Lfk263TtrQ0t7Oj9cbzZDc/W6s/8T7khD+P+F/8bv29PZlswJVVBu0vPuVZyNYHFZbmAqE1SR0cbjXR6pjGBO58am962Ta3e3ftqy6B5LCcMasOj7gInrm9jBzI4vTX+bfjT/7/4/p/w/zFXybUmt71u4wJzGfxP/t/xvA+KaP2XnQSKVFpWPav/U/6+HKJjz++OVJUDp1n9N/+r+19QyMCz1mPC/8X/X/26Igrn3GiUeL5n/v+F/8//6/9NOMTC0hDUDefP/L4MoOL6ickVeSQ1QqAGooPdBJE/lnloge/fhixBHftFd9bLkR83/+n/1QAXVP8qX1Pyv/L/s/12f/4xQNz8s3Pa/6X/Vvzqgour/5f/r/q//f2fmLy54WP7lfJN74eMSoKIyoNFz/5/+9ar+Px9aZL3Xfjvz7aO3/96+eLvsnSVE7CPhOAYA9nvIX0UoNU8AAAAASUVORK5CYII=);
    background-repeat: no-repeat;
    background-position: 0 center;
    padding: 0 0 0 18px;
}

a.link-mail:not(.btn) {
    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAABOUlEQVR4AaXJMWoUUQDG8f/33ltldyZB3E2xaCAxIQREFKwD2lhb6QmsxMIL6BlU8AhCjmBADdqlWLyACKZKF7LZmUzmzXwiSMTKwl/7478Jng9OXa5fviRzwTS5/j40OcHo2fSofH10tUcXHVg9q54cj3kleOnRj/uHh3e+FVgCbK2drX/dn5xuogAD8uqnyfXZRi3J+tXN2uxj2WwkEgFw0vnW3srmwbU2K2uat2fvi/ObSbII0Kl3VL+9O975PPXEOwe7sb8dZXfqSGB6YWm89Wb+dF+jt+3K3ZoeYUDwwgOjK14wV7tHNXhYUvgEqzUhQeegZVcsSOYBRFeCIXN3ggBoiYYTJBOJIHmhhiWEEHzwl3ycIhjxm5y1nO8FYoJbj268A0D8ISAWj0HQyEOE+Zuwasy//ATU93+97E8p8AAAAABJRU5ErkJggg==);
    background-repeat: no-repeat;
    background-position: 0 center;
    padding: 0 0 0 18px;
}

</style>

<style class="snippet-prism-combo">/* no margin at the bottom / to close to the next paragraph */
.code-toolbar { margin-bottom: 1rem }
</style>

<style class="snippet-lazy-load-fade-combo">.lazy-fade-combo {
    animation-name: lazy-fade-combo;
    animation-duration: 2s;
}

@keyframes lazy-fade-combo {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

</style>
