
<h1 class="sectionedit1 heading-combo" id="creating_api_s_with_tina4">Creating <abbr title="Application Programming Interface">API</abbr>'s With Tina4</h1>
<div class="level1">

<p>
<br/>

<iframe title=" 560,315 noscroll noborder centred}Creating API's With Tina4" src="https://www.youtube.com/embed?v=LP5hVFh2lDQ&amp;t=1s" style="width:98%; height:400px"></iframe>
<br/>

<br/>

Follow the steps below if you need to create an <abbr title="Application Programming Interface">API</abbr> end point to define the interactions between multiple software. This will be required as your application, system or webpage will require multiple interactive systems communicating with each other. Your <abbr title="Application Programming Interface">API</abbr> will provide the instructions on how these systems interact with each other. It handles things just as your HTTP requests, web applications, information and specifications. 
</p>
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;secid&quot;:2,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_center wrap_round wrap_info plugin_wrap">
<p>
<strong>Please Note</strong> : After installing Tina4, you may delete the test.php file located inside the api folder. 
</p>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;secid&quot;:3,&quot;range&quot;:&quot;0-&quot;} -->
<p>
The <a class="link-external link-combo" href="https://www.sitepoint.com/rest-api/" rel="nofollow ugc">REST end point</a> is easily added, with an anonymous method to handle the request, the anonymous method should have the response variable.
</p>

<p>
The request exposes more information which comes from the browser, in the case of parameters passed to it. You should always return the <strong>$response</strong> object!
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Creating API &#039;s With Tina4&quot;,&quot;hid&quot;:&quot;creating_api_s_with_tina4&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-1083&quot;} -->
<h1 class="sectionedit4 heading-combo" id="step_1_-_create_api_file_sub-directories">Step 1 - Create <abbr title="Application Programming Interface">API</abbr> file &amp; sub-directories</h1>
<div class="level1">

<p>
All your <abbr title="Application Programming Interface">API</abbr>&#039;s must be stored in the <abbr title="Application Programming Interface">API</abbr> directory. For this example we will make the files and sub-directories for “cars” and “characters”. 
</p>

<p>
Create 2 directories inside the <abbr title="Application Programming Interface">API</abbr> folder and name it “cars” and “characters”. Now create php files inside those sub-directories (eg. name the file cars and the other characters).
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Step 1 - Create API file &amp; sub-directories&quot;,&quot;hid&quot;:&quot;step_1_-_create_api_file_sub-directories&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;1084-1469&quot;} -->
<h1 class="sectionedit5 heading-combo" id="step_2_-_define_routes">Step 2 - Define routes</h1>
<div class="level1">

<p>
Now that the <abbr title="Application Programming Interface">API</abbr> files has been created, we must define our Routes. There are various methods which can be used.  
</p>

<p>
It is <strong>IMPORTANT</strong> to ensure that the paths are correct:
</p>
<pre class="code-container-combo code-container-php-combo" data-download-link="true" data-src="file.php">
<code class="language-php code-combo code-php-combo">&quot;/api/characters&quot;</code>
</pre>
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;secid&quot;:6,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_center wrap_round wrap_info plugin_wrap">
<p>
To know more about Routing go to the <a class="link-internal link-combo" data-wiki-id="tina4:routing" href="/doku.php?id=tina4:routing" title="Please see the Create-a-basic-route for more basics on Routes. For further information on routing, please click on this &lt;https://en.wikipedia.org/wiki/Routing&gt;. Simple Syntax The simple syntax of a Route is as follows   So the Route to capture the URL &lt;https://mywebsite.com/starthere&gt; would be as below. This uses a Get">Routing</a> page.
</p>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;secid&quot;:7,&quot;range&quot;:&quot;0-&quot;} -->
</div>

<h4 class="heading-combo" id="get_method">Get Method</h4>
<div class="level4">

<p>
This is how to create a Get route with a response and request using TIna4. 
</p>
<pre class="code-container-combo code-container-php-combo" data-download-link="true" data-src="file.php">
<code class="language-php code-combo code-php-combo">&lt;?php
\Tina4\Get::add(&quot;/api/cars&quot;, function (\Tina4\Response $response, \Tina4\Request $request) {

    $cars = [&quot;Rolls Royce&quot;, &quot;Aston Martin&quot;, &quot;Bugatti&quot;];

return $response ($cars, HTTP_OK, APPLICATION_JSON);
});</code>
</pre>

</div>

<h4 class="heading-combo" id="post_method">Post Method</h4>
<div class="level4">

<p>
This is how to create a Post route with a response and request using TIna4. 
</p>
<pre class="code-container-combo code-container-php-combo" data-download-link="true" data-src="file.php">
<code class="language-php code-combo code-php-combo">&lt;?php
\Tina4\Post::add(&quot;/api/characters&quot;, function (\Tina4\Response $response, \Tina4\Request $request) {
    $characters = [&quot;Clancy Gilroy&quot;, &quot;Peter Griffin&quot;, &quot;Broden Kelly&quot;];
return $response ($characters, HTTP_OK, APPLICATION_JSON);
});</code>
</pre>

</div>

<h4 class="heading-combo" id="other_routes_methods">Other Routes Methods</h4>
<div class="level4">

<p>
Other methods you may need to use include: 
</p>
<pre class="code-container-combo code-container-php-combo" data-download-link="true" data-src="file.php">
<code class="language-php code-combo code-php-combo">&lt;?php
//Other methods you can test
\Tina4\Post::add(...);

\Tina4\Patch::add(...);

\Tina4\Put::add(...);

\Tina4\Delete::add(...);

//You guessed it - It takes every method - GET, POST, DELETE, PUT, PATCH, OPTIONS
\Tina4\Any::add(...);</code>
</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Step 2 - Define routes&quot;,&quot;hid&quot;:&quot;step_2_-_define_routes&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;1470-2845&quot;} -->
<h1 class="sectionedit8 heading-combo" id="step_3_-_annotate_api">Step 3 - Annotate <abbr title="Application Programming Interface">API</abbr></h1>
<div class="level1">

<p>
It is useful to add comments to your scripts for future use (e.g. if someone else has to work on your code). Now we will need to annotate the end point we created. This will be a description of the end point which will be used in Swagger. Its as easy as adding the following lines above the end point you created:
</p>
<pre class="code-container-combo code-container-php-combo" data-download-link="true" data-src="file.php">
<code class="language-php code-combo code-php-combo">&lt;?php
/**
* @description My first API
* @summary Returns list of cars
* @tags Cars
*/
\Tina4\Get::add(&quot;/api/cars&quot;, function (\Tina4\Response $response, \Tina4\Request $request) {

    $cars = [&quot;Rolls Royce&quot;, &quot;Aston Martin&quot;, &quot;Bugatti&quot;];

return $response ($cars, HTTP_OK, APPLICATION_JSON);
});</code>
</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Step 3 - Annotate API &quot;,&quot;hid&quot;:&quot;step_3_-_annotate_api&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:8,&quot;range&quot;:&quot;2846-3510&quot;} -->
<h1 class="sectionedit9 heading-combo" id="step_4_test_api">Step 4  Test <abbr title="Application Programming Interface">API</abbr></h1>
<div class="level1">

<p>
Now we can test to check if our <abbr title="Application Programming Interface">API</abbr> is working. Spin up a web server by running this in your IDE terminal or command line:
</p>
<pre class="command-line code-container-combo code-container-bash-combo" data-prompt="#" data-download-link="true" data-src="file.bash">
<code class="language-bash code-combo code-bash-combo">composer start</code>
</pre>

<p>
Now that the web server is running, add “/swagger” to the <abbr title="Uniform Resource Locator">URL</abbr>:
</p>

<p>
<img class="img-fluid lazy-raster-combo lazy-combo mx-auto d-block raster-combo" data-sizes="(max-width: 375px) and (min-resolution:288dpi) 118px, (max-width: 375px) and (min-resolution:192dpi) 177px, (max-width: 375px) and (min-resolution:96dpi) 355px, (max-width: 576px) and (min-resolution:288dpi) 185px, (max-width: 576px) and (min-resolution:192dpi) 278px, (max-width: 576px) and (min-resolution:96dpi) 556px, 619px" data-srcset="http://localhost:8800/lib/exe/fetch.php?w=355&amp;h=23&amp;tok=7c89df&amp;media=tina4:api2.png 355w, http://localhost:8800/lib/exe/fetch.php?w=556&amp;h=36&amp;tok=21fc0d&amp;media=tina4:api2.png 556w, http://localhost:8800/lib/exe/fetch.php?media=tina4:api2.png 619w" data-placeholder-background="#cbf1ea" src="http://localhost:8800/lib/exe/fetch.php?media=tina4:api2.png" srcset="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA2MTkgNDAnPjwvc3ZnPg==" height="40" width="619" style="width:auto;max-height:40px"/>
</p>

<p>
A Swagger page will load and you will see the following which will include the data and annotations within the script created: 
</p>

<p>
<img class="img-fluid lazy-raster-combo lazy-combo mx-auto d-block raster-combo" data-sizes="(max-width: 375px) and (min-resolution:288dpi) 118px, (max-width: 375px) and (min-resolution:192dpi) 177px, (max-width: 375px) and (min-resolution:96dpi) 355px, (max-width: 576px) and (min-resolution:288dpi) 185px, (max-width: 576px) and (min-resolution:192dpi) 278px, (max-width: 576px) and (min-resolution:96dpi) 556px, 707px" data-srcset="http://localhost:8800/lib/exe/fetch.php?w=355&amp;h=100&amp;tok=cc60f7&amp;media=tina4:api3.png 355w, http://localhost:8800/lib/exe/fetch.php?w=556&amp;h=157&amp;tok=ea6e70&amp;media=tina4:api3.png 556w, http://localhost:8800/lib/exe/fetch.php?w=707&amp;h=200&amp;tok=90e0ef&amp;media=tina4:api3.png 707w" data-placeholder-background="#cbf1ea" src="http://localhost:8800/lib/exe/fetch.php?media=tina4:api3.png" srcset="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA3MDcgMjAwJz48L3N2Zz4=" height="200" width="707" style="width:auto;max-height:200px"/>
</p>

<p>
Next click on the <abbr title="Application Programming Interface">API</abbr> and then click on “Try It Out” button:
</p>

<p>
<img class="img-fluid lazy-raster-combo lazy-combo mx-auto d-block raster-combo" data-sizes="(max-width: 375px) and (min-resolution:288dpi) 118px, (max-width: 375px) and (min-resolution:192dpi) 177px, (max-width: 375px) and (min-resolution:96dpi) 355px, (max-width: 576px) and (min-resolution:288dpi) 185px, (max-width: 576px) and (min-resolution:192dpi) 278px, (max-width: 576px) and (min-resolution:96dpi) 556px, 620px" data-srcset="http://localhost:8800/lib/exe/fetch.php?w=355&amp;h=23&amp;tok=a8c11f&amp;media=tina4:api4.png 355w, http://localhost:8800/lib/exe/fetch.php?w=556&amp;h=37&amp;tok=6ed695&amp;media=tina4:api4.png 556w, http://localhost:8800/lib/exe/fetch.php?media=tina4:api4.png 620w" data-placeholder-background="#cbf1ea" src="http://localhost:8800/lib/exe/fetch.php?media=tina4:api4.png" srcset="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA2MjAgNDEnPjwvc3ZnPg==" height="41" width="620" style="width:auto;max-height:41px"/>
</p>

<p>
Thereafter, click on the execute button and you will see the following responses in the browser:
</p>

</div>

<h5 class="heading-combo" id="get_method_result">Get Method Result</h5>
<div class="level5">

<p>
<img class="img-fluid lazy-raster-combo lazy-combo mx-auto d-block raster-combo" data-sizes="(max-width: 375px) and (min-resolution:288dpi) 118px, (max-width: 375px) and (min-resolution:192dpi) 177px, (max-width: 375px) and (min-resolution:96dpi) 355px, (max-width: 576px) and (min-resolution:288dpi) 185px, (max-width: 576px) and (min-resolution:192dpi) 278px, (max-width: 576px) and (min-resolution:96dpi) 556px, (max-width: 768px) and (min-resolution:288dpi) 249px, (max-width: 768px) and (min-resolution:192dpi) 374px, (max-width: 768px) and (min-resolution:96dpi) 748px, (max-width: 992px) and (min-resolution:288dpi) 324px, (max-width: 992px) and (min-resolution:192dpi) 486px, (max-width: 992px) and (min-resolution:96dpi) 972px, 1415px" data-srcset="http://localhost:8800/lib/exe/fetch.php?w=355&amp;h=27&amp;tok=87d857&amp;media=tina4:api5.png 355w, http://localhost:8800/lib/exe/fetch.php?w=556&amp;h=42&amp;tok=e3a901&amp;media=tina4:api5.png 556w, http://localhost:8800/lib/exe/fetch.php?w=748&amp;h=56&amp;tok=7c2bb6&amp;media=tina4:api5.png 748w, http://localhost:8800/lib/exe/fetch.php?w=972&amp;h=73&amp;tok=965e03&amp;media=tina4:api5.png 972w, http://localhost:8800/lib/exe/fetch.php?media=tina4:api5.png 1415w" data-placeholder-background="#cbf1ea" src="http://localhost:8800/lib/exe/fetch.php?media=tina4:api5.png" srcset="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxNDE1IDEwNic+PC9zdmc+" height="106" width="1415" x0400="true"/>
</p>

</div>

<h5 class="heading-combo" id="post_method_result">Post Method Result</h5>
<div class="level5">

<p>
<img class="img-fluid lazy-raster-combo lazy-combo mx-auto d-block raster-combo" data-sizes="(max-width: 375px) and (min-resolution:288dpi) 118px, (max-width: 375px) and (min-resolution:192dpi) 177px, (max-width: 375px) and (min-resolution:96dpi) 355px, (max-width: 576px) and (min-resolution:288dpi) 185px, (max-width: 576px) and (min-resolution:192dpi) 278px, (max-width: 576px) and (min-resolution:96dpi) 556px, (max-width: 768px) and (min-resolution:288dpi) 249px, (max-width: 768px) and (min-resolution:192dpi) 374px, (max-width: 768px) and (min-resolution:96dpi) 748px, (max-width: 992px) and (min-resolution:288dpi) 324px, (max-width: 992px) and (min-resolution:192dpi) 486px, (max-width: 992px) and (min-resolution:96dpi) 972px, 1162px" data-srcset="http://localhost:8800/lib/exe/fetch.php?w=355&amp;h=122&amp;tok=9364b3&amp;media=tina4:api6.png 355w, http://localhost:8800/lib/exe/fetch.php?w=556&amp;h=191&amp;tok=966eb4&amp;media=tina4:api6.png 556w, http://localhost:8800/lib/exe/fetch.php?w=748&amp;h=257&amp;tok=43cdf4&amp;media=tina4:api6.png 748w, http://localhost:8800/lib/exe/fetch.php?w=972&amp;h=335&amp;tok=018efc&amp;media=tina4:api6.png 972w, http://localhost:8800/lib/exe/fetch.php?w=1162&amp;h=400&amp;tok=1ba78b&amp;media=tina4:api6.png 1162w" data-placeholder-background="#cbf1ea" src="http://localhost:8800/lib/exe/fetch.php?media=tina4:api6.png" srcset="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxMTYyIDQwMCc+PC9zdmc+" height="400" width="1162" style="width:auto;max-height:400px"/>
<br/>

<br/>

You just created a basic <abbr title="Application Programming Interface">API</abbr> using Tina4. You are on your way to becoming a serious Code Ninja or Kunoichi. Please reach out to the developers if you have any questions or suggestions. 
<br/>

</p>
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;secid&quot;:10,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_center wrap_round wrap_info plugin_wrap">
<p>
For more information on <abbr title="Application Programming Interface">API</abbr>&#039;s please look at <a class="link-external link-combo" href="https://www.freecodecamp.org/news/what-is-an-api-in-english-please-b880a3214a82/" rel="nofollow ugc">FreeCodeCamp</a> or <a class="link-external link-combo" href="https://www.howtogeek.com/343877/what-is-an-api/" rel="nofollow ugc">HowToGeek</a>
</p>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;secid&quot;:11,&quot;range&quot;:&quot;0-&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Step 4  Test API &quot;,&quot;hid&quot;:&quot;step_4_test_api&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:9,&quot;range&quot;:&quot;3511-&quot;} -->
<script src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" integrity="sha256-LGOWMG4g6/zc0chji4hZP1d8RxR2bPvXMzl/7oPZqjs=" crossorigin="anonymous" class="snippet-anchor-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//components/prism-core.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/toolbar/prism-toolbar.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/normalize-whitespace/prism-normalize-whitespace.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/show-language/prism-show-language.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/command-line/prism-command-line.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/line-numbers/prism-line-numbers.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/download-button/prism-download-button.min.js" integrity="sha512-rGJwSZEEYPBQjqYxrdg6Ug/6i763XQogKx+N/GF1rCGvfmhIlIUFxCjc4FmEdCu5dvovqxHsoe3IPMKP+KlgNQ==" crossorigin="anonymous" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/autoloader/prism-autoloader.min.js" class="snippet-prism-autoloader-combo"></script>

<script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous" class="snippet-lozad-combo"></script>

<script class="snippet-popover-combo">window.addEventListener('load', function () {
    let namespace = "-bs"
    let version = 5;
    if (typeof jQuery != 'undefined' && typeof jQuery.fn.tooltip.constructor.VERSION !== 'undefined') {
        version = parseInt(jQuery.fn.tooltip.constructor.VERSION.substr(0, 1), 10);
        if (version < 5) {
            namespace = "";
        }
        jQuery(`[data${namespace}-toggle="popover"]`).popover();
    } else if (typeof bootstrap.Popover.VERSION !== 'undefined') {
        version = parseInt(bootstrap.Popover.VERSION.substr(0, 1), 10);
        if (version < 5) {
            namespace = "";
        }
        document.querySelectorAll(`[data${namespace}-toggle="popover"]`)
            .forEach(el => {
                new bootstrap.Popover(el);
                // to not navigate on a anchor
                el.onclick = (event => event.preventDefault());
            });
    }
});
</script>

<script class="snippet-anchor-combo">document.addEventListener('DOMContentLoaded', (event) => {
    anchors.options = {
        placement: 'right',
        icon: '#',
        class: 'anchor-combo'
    };
    anchors.add("main > h2").add("main > h3").add("main > h4").add("main > h5").add("main > h6");
});
</script>

<script class="snippet-prism-combo">document.addEventListener('DOMContentLoaded', (event) => {

    if (typeof self === 'undefined' || !self.Prism || !self.document) {
        return;
    }

    // Loading the css from https://cdnjs.com/libraries/prism
    const head = document.querySelector('head');
    const baseCdn = "https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/";
    const stylesheets = [
        ["themes/prism-tomorrow.min.css", "sha512-vswe+cgvic/XBoF1OcM/TeJ2FW0OofqAVdCZiEYkd6dwGXthvkSFWOoGGJgS2CW70VK5dQM5Oh+7ne47s74VTg=="],
        ["plugins/toolbar/prism-toolbar.min.css","sha512-DSAA0ziYwggOJ3QyWFZhIaU8bSwQLyfnyIrmShRLBdJMtiYKT7Ju35ujBCZ6ApK3HURt34p2xNo+KX9ebQNEPQ=="],
        /*https://prismjs.com/plugins/command-line/*/
        ["plugins/command-line/prism-command-line.min.css","sha512-4Y1uID1tEWeqDdbb7452znwjRVwseCy9kK9BNA7Sv4PlMroQzYRznkoWTfRURSADM/SbfZSbv/iW5sNpzSbsYg=="],
        /*https://prismjs.com/plugins/line-numbers/*/
        ["plugins/line-numbers/prism-line-numbers.min.css","sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ=="]
    ];

    stylesheets.forEach(stylesheet => {
            let link = document.createElement('link');
            link.rel="stylesheet"
            link.href=baseCdn+"/"+stylesheet[0];
            link.integrity=stylesheet[1];
            link.crossOrigin="anonymous";
            head.append(link);
        }
    )


    Prism.plugins.NormalizeWhitespace.setDefaults({
        'remove-trailing': true,
        'remove-indent': true,
        'left-trim': true,
        'right-trim': true,
    });

    if (!Prism.plugins.toolbar) {
        console.warn('Copy to Clipboard plugin loaded before Toolbar plugin.');

        return;
    }

    let ClipboardJS = window.ClipboardJS || undefined;

    if (!ClipboardJS && typeof require === 'function') {
        ClipboardJS = require('clipboard');
    }

    const callbacks = [];

    if (!ClipboardJS) {
        const script = document.createElement('script');
        const head = document.querySelector('head');

        script.onload = function() {
            ClipboardJS = window.ClipboardJS;

            if (ClipboardJS) {
                while (callbacks.length) {
                    callbacks.pop()();
                }
            }
        };

        script.src = 'https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js';
        head.appendChild(script);
    }

    Prism.plugins.toolbar.registerButton('copy-to-clipboard', function (env) {
        var linkCopy = document.createElement('button');
        linkCopy.textContent = 'Copy';
        linkCopy.setAttribute('type', 'button');

        var element = env.element;

        if (!ClipboardJS) {
            callbacks.push(registerClipboard);
        } else {
            registerClipboard();
        }

        return linkCopy;

        function registerClipboard() {
            var clip = new ClipboardJS(linkCopy, {
                'text': function () {
                    return element.textContent;
                }
            });

            clip.on('success', function() {
                linkCopy.textContent = 'Copied!';

                resetText();
            });
            clip.on('error', function () {
                linkCopy.textContent = 'Press Ctrl+C to copy';

                resetText();
            });
        }

        function resetText() {
            setTimeout(function () {
                linkCopy.textContent = 'Copy';
            }, 5000);
        }
    });

});</script>

<script class="snippet-lozad-print-combo">window.onbeforeprint = function() {

    const observer = lozad();
    observer.observe();

    document.querySelectorAll('.lazy-combo').forEach(element => {
            observer.triggerLoad(element);
        }
    )

}
</script>

<script class="snippet-lozad-raster-combo">window.addEventListener("load", function (event) {
    // lazy loads elements with the below selector
    const observer = lozad('.lazy-raster-combo', {
        load: function (el) {
            el.classList.add('lazy-fade-combo')
            if (el.hasAttribute("data-srcset")) {
                if (el.hasAttribute("data-sizes")) {
                    el.sizes = el.dataset.sizes;
                }
                el.srcset = el.dataset.srcset;
            }
            if (el.hasAttribute("data-src")) {
                el.src = el.dataset.src;
            }
        },
        loaded: function (el) {
            // Custom implementation on a loaded element
            el.classList.add('loaded-combo');
            // Masonry (Not really needed because the placeholder has the good aspect ratio)
            // but who knows
            if(window.Masonry) {
                document.querySelectorAll('.masonry').forEach(element=>{
                    let masonry = Masonry.data(element);
                    masonry.layout();
                })
            }
        }
    });
    observer.observe();
});

</script>

<style class="snippet-historical-breadcrumb-combo">.historical-breadcrumb li {
    margin-bottom: 0.5rem;
}
.historical-breadcrumb a {
    text-decoration: none;
}
.historical-breadcrumb-home {
    max-width: fit-content;
    display: block;
    margin-right: auto;
    margin-left: auto;
    margin-bottom: 1rem;
    padding:0.5rem;
    text-align: center;
    border-radius: calc(.3rem - 1px);
    background-color: #f0f0f0;
}
.historical-breadcrumb-home::before {
    content:'Actual: '
}
</style>

<style class="snippet-message-combo">/*Message*/
.combo-message > .signature {
    font-size: 80%;
    font-style: italic;
    text-align: right;
}
</style>

<style class="snippet-lqpp-combo">.low-quality-page-combo {
    text-decoration: none;
}
</style>

<style class="snippet-link-combo">
a.link-external:not(.btn) {
    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAABdklEQVR4AWMgAVRo1zY3rGk41rC+rqvCBCJWBpPM4WoomLHtdtuv/t9Lfk263TtrQ0t7Oj9cbzZDc/W6s/8T7khD+P+F/8bv29PZlswJVVBu0vPuVZyNYHFZbmAqE1SR0cbjXR6pjGBO58am962Ta3e3ftqy6B5LCcMasOj7gInrm9jBzI4vTX+bfjT/7/4/p/w/zFXybUmt71u4wJzGfxP/t/xvA+KaP2XnQSKVFpWPav/U/6+HKJjz++OVJUDp1n9N/+r+19QyMCz1mPC/8X/X/26Igrn3GiUeL5n/v+F/8//6/9NOMTC0hDUDefP/L4MoOL6ickVeSQ1QqAGooPdBJE/lnloge/fhixBHftFd9bLkR83/+n/1QAXVP8qX1Pyv/L/s/12f/4xQNz8s3Pa/6X/Vvzqgour/5f/r/q//f2fmLy54WP7lfJN74eMSoKIyoNFz/5/+9ar+Px9aZL3Xfjvz7aO3/96+eLvsnSVE7CPhOAYA9nvIX0UoNU8AAAAASUVORK5CYII=);
    background-repeat: no-repeat;
    background-position: 0 center;
    padding: 0 0 0 18px;
}

a.link-mail:not(.btn) {
    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAABOUlEQVR4AaXJMWoUUQDG8f/33ltldyZB3E2xaCAxIQREFKwD2lhb6QmsxMIL6BlU8AhCjmBADdqlWLyACKZKF7LZmUzmzXwiSMTKwl/7478Jng9OXa5fviRzwTS5/j40OcHo2fSofH10tUcXHVg9q54cj3kleOnRj/uHh3e+FVgCbK2drX/dn5xuogAD8uqnyfXZRi3J+tXN2uxj2WwkEgFw0vnW3srmwbU2K2uat2fvi/ObSbII0Kl3VL+9O975PPXEOwe7sb8dZXfqSGB6YWm89Wb+dF+jt+3K3ZoeYUDwwgOjK14wV7tHNXhYUvgEqzUhQeegZVcsSOYBRFeCIXN3ggBoiYYTJBOJIHmhhiWEEHzwl3ycIhjxm5y1nO8FYoJbj268A0D8ISAWj0HQyEOE+Zuwasy//ATU93+97E8p8AAAAABJRU5ErkJggg==);
    background-repeat: no-repeat;
    background-position: 0 center;
    padding: 0 0 0 18px;
}

</style>

<style class="snippet-prism-combo">/* no margin at the bottom / to close to the next paragraph */
.code-toolbar { margin-bottom: 1rem }
</style>

<style class="snippet-lazy-load-fade-combo">.lazy-fade-combo {
    animation-name: lazy-fade-combo;
    animation-duration: 2s;
}

@keyframes lazy-fade-combo {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

</style>
