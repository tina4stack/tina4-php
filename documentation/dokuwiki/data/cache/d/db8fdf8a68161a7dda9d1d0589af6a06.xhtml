
<h1 class="sectionedit1 heading-combo" id="the_route_of_it">The Route of It</h1>
<div class="level1">

<p>
Tina4 supports 2 types of routes, those created in code and those that are assumed based on files you drop in the <strong>src/templates</strong> folder.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;The Route of It&quot;,&quot;hid&quot;:&quot;the_route_of_it&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-172&quot;} -->
<h2 class="sectionedit2 heading-combo" id="dynamic_routing_using_files_in_src_templates">Dynamic Routing Using Files in src/templates</h2>
<div class="level2">

<p>
Consider the following folder structure and the routes you can hit up in the browser.
</p>
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> Directory      </th><th class="col1 leftalign"> <abbr title="Uniform Resource Locator">URL</abbr>       </th><th class="col2 leftalign"> <abbr title="Uniform Resource Locator">URL</abbr> 2          </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> src/templates/index.html    </td><td class="col1 leftalign"> <a class="link-external link-combo" href="http://localhost:7145/" rel="nofollow ugc">http://localhost:7145/</a>    </td><td class="col2 leftalign"> <a class="link-external link-combo" href="http://localhost:7145/index" rel="nofollow ugc">http://localhost:7145/index</a>       </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> src/templates/store/index.html    </td><td class="col1"> <a class="link-external link-combo" href="http://localhost:7145/store" rel="nofollow ugc">http://localhost:7145/store</a> </td><td class="col2 leftalign"> <a class="link-external link-combo" href="http://localhost:7145/store/index" rel="nofollow ugc">http://localhost:7145/store/index</a>       </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> src/templates/store/shop.html    </td><td class="col1 leftalign"> <a class="link-external link-combo" href="http://localhost:7145/store/shop" rel="nofollow ugc">http://localhost:7145/store/shop</a>     </td><td class="col2"></td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:3,&quot;range&quot;:&quot;318-668&quot;} --><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;secid&quot;:4,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_center wrap_round wrap_info plugin_wrap">
<p>
You can use either .twig or .html extensions. The html extension will cause the built in Tina4 template engine to be used.
</p>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;secid&quot;:5,&quot;range&quot;:&quot;0-&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Dynamic Routing Using Files in src\/templates&quot;,&quot;hid&quot;:&quot;dynamic_routing_using_files_in_src_templates&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;173-826&quot;} -->
<h2 class="sectionedit6 heading-combo" id="coded_routing_in_src_routes_with_subfolders">Coded Routing in src/routes with subfolders</h2>
<div class="level2">

<p>
The folders are simply suggested folders where you can place php files to manage your routing.  Any php file place in the routing folder and sub folders will automatically be parsed and run when Tina4 is hit up.
</p>

<p>
Try placing the following code in a php file of your choice in the routes folder
</p>
<pre class="code-container-combo code-container-php-combo" data-download-link="true" data-src="src/routes/someroute.php" data-download-link-label="Download src/routes/someroute.php">
<code class="language-php code-combo code-php-combo">&lt;?php
\Tina4\Get::add (&quot;/test/route&quot;, function(\Tina4\Response $response, \Tina4\Request $request) {
    return $response (&quot;Hello World!&quot;, HTTP_OK, TEXT_HTML);
});</code>
</pre>

<p>
Now lets test it by spinning up a built in web-server
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Coded Routing in src\/routes with subfolders&quot;,&quot;hid&quot;:&quot;coded_routing_in_src_routes_with_subfolders&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;827-1443&quot;} -->
<h2 class="sectionedit7 heading-combo" id="spinning_up_a_web-server">Spinning Up A Web-Server</h2>
<div class="level2">

<p>
Spin up a web-server by entering : 
</p>
<pre class="command-line code-container-combo code-container-bash-combo" data-prompt="#" data-download-link="true" data-src="file.bash">
<code class="language-bash code-combo code-bash-combo">composer start</code>
</pre>

<p>
Hit up <a class="link-external link-combo" href="http://localhost:7145/test/route" rel="nofollow ugc">http://localhost:7145/test/route</a> in your Web Browser ( e.g. FireFox, Chrome etc).
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Spinning Up A Web-Server&quot;,&quot;hid&quot;:&quot;spinning_up_a_web-server&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:7,&quot;range&quot;:&quot;1444-1647&quot;} -->
<h2 class="sectionedit8 heading-combo" id="various_routing_examples">Various Routing Examples</h2>
<div class="level2">

<p>
<br/>

A route with inline parameters can be composed as follows
</p>
<pre class="code-container-combo code-container-php-combo" data-download-link="true" data-src="src/routes/someroute.php" data-download-link-label="Download src/routes/someroute.php">
<code class="language-php code-combo code-php-combo">&lt;?php
\Tina4\Get::add (&quot;/test/route/{name}&quot;,function($name, \Tina4\Response $response, \Tina4\Request $request) {
  return $response (&quot;Hello {$name}!&quot;, HTTP_OK, TEXT_HTML);
});</code>
</pre>

<p>
<strong>A POST ROUTE looks as follows and will need a FORM KEY token to accept POSTS to it for CORS prevention</strong>
</p>
<pre class="code-container-combo code-container-php-combo" data-download-link="true" data-src="src/routes/someroute.php" data-download-link-label="Download src/routes/someroute.php">
<code class="language-php code-combo code-php-combo">&lt;?php
\Tina4\Post::add (&quot;/test/post&quot;, function(\Tina4\Response $response, \Tina4\Request $request) {
    return $response [&quot;Hello, [$request-&gt;param[&quot;someInput&quot;]}!&quot;, HTTP_OK, TEXT_HTML);
});</code>
</pre>

<p>
<strong> Routing directly to a class </strong>
</p>
<pre class="code-container-combo code-container-php-combo" data-download-link="true" data-src="src/routes/someroute.php" data-download-link-label="Download src/routes/someroute.php">
<code class="language-php code-combo code-php-combo">&lt;?php
\Tina4\Get::add(&quot;/test&quot;, [&quot;TestClass&quot;, &quot;someRouter&quot;]);
   
class TestClass
{
   public function someRouter (\Tina4\Response $response, \Tina4\Request $request) {
     return $response(&quot;Hello&quot;);
   }
}</code>
</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Various Routing Examples&quot;,&quot;hid&quot;:&quot;various_routing_examples&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:8,&quot;range&quot;:&quot;1648-&quot;} -->
<script src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" integrity="sha256-LGOWMG4g6/zc0chji4hZP1d8RxR2bPvXMzl/7oPZqjs=" crossorigin="anonymous" class="snippet-anchor-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//components/prism-core.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/toolbar/prism-toolbar.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/normalize-whitespace/prism-normalize-whitespace.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/show-language/prism-show-language.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/command-line/prism-command-line.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/line-numbers/prism-line-numbers.min.js" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/download-button/prism-download-button.min.js" integrity="sha512-rGJwSZEEYPBQjqYxrdg6Ug/6i763XQogKx+N/GF1rCGvfmhIlIUFxCjc4FmEdCu5dvovqxHsoe3IPMKP+KlgNQ==" crossorigin="anonymous" class="snippet-prism-combo"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0//plugins/autoloader/prism-autoloader.min.js" class="snippet-prism-autoloader-combo"></script>

<script class="snippet-popover-combo">window.addEventListener('load', function () {
    let namespace = "-bs"
    let version = 5;
    if (typeof jQuery != 'undefined' && typeof jQuery.fn.tooltip.constructor.VERSION !== 'undefined') {
        version = parseInt(jQuery.fn.tooltip.constructor.VERSION.substr(0, 1), 10);
        if (version < 5) {
            namespace = "";
        }
        jQuery(`[data${namespace}-toggle="popover"]`).popover();
    } else if (typeof bootstrap.Popover.VERSION !== 'undefined') {
        version = parseInt(bootstrap.Popover.VERSION.substr(0, 1), 10);
        if (version < 5) {
            namespace = "";
        }
        document.querySelectorAll(`[data${namespace}-toggle="popover"]`)
            .forEach(el => {
                new bootstrap.Popover(el);
                // to not navigate on a anchor
                el.onclick = (event => event.preventDefault());
            });
    }
});
</script>

<script class="snippet-anchor-combo">document.addEventListener('DOMContentLoaded', (event) => {
    anchors.options = {
        placement: 'right',
        icon: '#',
        class: 'anchor-combo'
    };
    anchors.add("main > h2").add("main > h3").add("main > h4").add("main > h5").add("main > h6");
});
</script>

<script class="snippet-prism-combo">document.addEventListener('DOMContentLoaded', (event) => {

    if (typeof self === 'undefined' || !self.Prism || !self.document) {
        return;
    }

    // Loading the css from https://cdnjs.com/libraries/prism
    const head = document.querySelector('head');
    const baseCdn = "https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/";
    const stylesheets = [
        ["themes/prism-tomorrow.min.css", "sha512-vswe+cgvic/XBoF1OcM/TeJ2FW0OofqAVdCZiEYkd6dwGXthvkSFWOoGGJgS2CW70VK5dQM5Oh+7ne47s74VTg=="],
        ["plugins/toolbar/prism-toolbar.min.css","sha512-DSAA0ziYwggOJ3QyWFZhIaU8bSwQLyfnyIrmShRLBdJMtiYKT7Ju35ujBCZ6ApK3HURt34p2xNo+KX9ebQNEPQ=="],
        /*https://prismjs.com/plugins/command-line/*/
        ["plugins/command-line/prism-command-line.min.css","sha512-4Y1uID1tEWeqDdbb7452znwjRVwseCy9kK9BNA7Sv4PlMroQzYRznkoWTfRURSADM/SbfZSbv/iW5sNpzSbsYg=="],
        /*https://prismjs.com/plugins/line-numbers/*/
        ["plugins/line-numbers/prism-line-numbers.min.css","sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ=="]
    ];

    stylesheets.forEach(stylesheet => {
            let link = document.createElement('link');
            link.rel="stylesheet"
            link.href=baseCdn+"/"+stylesheet[0];
            link.integrity=stylesheet[1];
            link.crossOrigin="anonymous";
            head.append(link);
        }
    )


    Prism.plugins.NormalizeWhitespace.setDefaults({
        'remove-trailing': true,
        'remove-indent': true,
        'left-trim': true,
        'right-trim': true,
    });

    if (!Prism.plugins.toolbar) {
        console.warn('Copy to Clipboard plugin loaded before Toolbar plugin.');

        return;
    }

    let ClipboardJS = window.ClipboardJS || undefined;

    if (!ClipboardJS && typeof require === 'function') {
        ClipboardJS = require('clipboard');
    }

    const callbacks = [];

    if (!ClipboardJS) {
        const script = document.createElement('script');
        const head = document.querySelector('head');

        script.onload = function() {
            ClipboardJS = window.ClipboardJS;

            if (ClipboardJS) {
                while (callbacks.length) {
                    callbacks.pop()();
                }
            }
        };

        script.src = 'https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js';
        head.appendChild(script);
    }

    Prism.plugins.toolbar.registerButton('copy-to-clipboard', function (env) {
        var linkCopy = document.createElement('button');
        linkCopy.textContent = 'Copy';
        linkCopy.setAttribute('type', 'button');

        var element = env.element;

        if (!ClipboardJS) {
            callbacks.push(registerClipboard);
        } else {
            registerClipboard();
        }

        return linkCopy;

        function registerClipboard() {
            var clip = new ClipboardJS(linkCopy, {
                'text': function () {
                    return element.textContent;
                }
            });

            clip.on('success', function() {
                linkCopy.textContent = 'Copied!';

                resetText();
            });
            clip.on('error', function () {
                linkCopy.textContent = 'Press Ctrl+C to copy';

                resetText();
            });
        }

        function resetText() {
            setTimeout(function () {
                linkCopy.textContent = 'Copy';
            }, 5000);
        }
    });

});</script>

<style class="snippet-historical-breadcrumb-combo">.historical-breadcrumb li {
    margin-bottom: 0.5rem;
}
.historical-breadcrumb a {
    text-decoration: none;
}
.historical-breadcrumb-home {
    max-width: fit-content;
    display: block;
    margin-right: auto;
    margin-left: auto;
    margin-bottom: 1rem;
    padding:0.5rem;
    text-align: center;
    border-radius: calc(.3rem - 1px);
    background-color: #f0f0f0;
}
.historical-breadcrumb-home::before {
    content:'Actual: '
}
</style>

<style class="snippet-message-combo">/*Message*/
.combo-message > .signature {
    font-size: 80%;
    font-style: italic;
    text-align: right;
}
</style>

<style class="snippet-lqpp-combo">.low-quality-page-combo {
    text-decoration: none;
}
</style>

<style class="snippet-link-combo">
a.link-external:not(.btn) {
    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAABdklEQVR4AWMgAVRo1zY3rGk41rC+rqvCBCJWBpPM4WoomLHtdtuv/t9Lfk263TtrQ0t7Oj9cbzZDc/W6s/8T7khD+P+F/8bv29PZlswJVVBu0vPuVZyNYHFZbmAqE1SR0cbjXR6pjGBO58am962Ta3e3ftqy6B5LCcMasOj7gInrm9jBzI4vTX+bfjT/7/4/p/w/zFXybUmt71u4wJzGfxP/t/xvA+KaP2XnQSKVFpWPav/U/6+HKJjz++OVJUDp1n9N/+r+19QyMCz1mPC/8X/X/26Igrn3GiUeL5n/v+F/8//6/9NOMTC0hDUDefP/L4MoOL6ickVeSQ1QqAGooPdBJE/lnloge/fhixBHftFd9bLkR83/+n/1QAXVP8qX1Pyv/L/s/12f/4xQNz8s3Pa/6X/Vvzqgour/5f/r/q//f2fmLy54WP7lfJN74eMSoKIyoNFz/5/+9ar+Px9aZL3Xfjvz7aO3/96+eLvsnSVE7CPhOAYA9nvIX0UoNU8AAAAASUVORK5CYII=);
    background-repeat: no-repeat;
    background-position: 0 center;
    padding: 0 0 0 18px;
}

a.link-mail:not(.btn) {
    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAABOUlEQVR4AaXJMWoUUQDG8f/33ltldyZB3E2xaCAxIQREFKwD2lhb6QmsxMIL6BlU8AhCjmBADdqlWLyACKZKF7LZmUzmzXwiSMTKwl/7478Jng9OXa5fviRzwTS5/j40OcHo2fSofH10tUcXHVg9q54cj3kleOnRj/uHh3e+FVgCbK2drX/dn5xuogAD8uqnyfXZRi3J+tXN2uxj2WwkEgFw0vnW3srmwbU2K2uat2fvi/ObSbII0Kl3VL+9O975PPXEOwe7sb8dZXfqSGB6YWm89Wb+dF+jt+3K3ZoeYUDwwgOjK14wV7tHNXhYUvgEqzUhQeegZVcsSOYBRFeCIXN3ggBoiYYTJBOJIHmhhiWEEHzwl3ycIhjxm5y1nO8FYoJbj268A0D8ISAWj0HQyEOE+Zuwasy//ATU93+97E8p8AAAAABJRU5ErkJggg==);
    background-repeat: no-repeat;
    background-position: 0 center;
    padding: 0 0 0 18px;
}

</style>

<style class="snippet-prism-combo">/* no margin at the bottom / to close to the next paragraph */
.code-toolbar { margin-bottom: 1rem }
</style>
